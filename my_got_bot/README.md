# Chain-of-Thought Chatbot (Together.ai)

Итеративный чатбот с Chain-of-Thought рассуждениями на базе Together.ai API.

## Быстрый старт

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

3. Добавьте свой API ключ в `.env`:
```
TOGETHER_API_KEY=ваш_ключ_здесь
```

4. Запустите бота:
```bash
python main.py
```

## Структура проекта

```
my_got_bot/
├── .env.example              # Пример файла с переменными окружения
├── main.py                   # Точка входа, главный цикл
├── config.py                 # Конфигурация (API ключ, модель)
├── inbox.py                  # Приём сообщений от пользователя
├── eyes.py                   # Обработка визуального контента (заглушка)
├── memory/
│   ├── __init__.py
│   ├── chat_memory.py        # Краткосрочная память (20 последних обменов)
│   └── big_memory.py         # Долгосрочная память (заглушка)
├── brain.py                  # Хранение цепочки мыслей (CoT)
├── engine/
│   ├── __init__.py
│   ├── engine.py             # Главная функция think_one_step()
│   └── prompts/
│       ├── cot_initial.txt   # Промпт для первой итерации
│       └── cot_refine.txt    # Промпт для итераций 2-4
└── mouth.py                  # Извлечение и вывод финального ответа
```

## Как это работает

1. **inbox.py** — получает сообщение пользователя из консоли
2. **eyes.py** — обрабатывает визуальный контент (пока заглушка)
3. **memory/chat_memory.py** — загружает последние 20 обменов из истории
4. **brain.py** — хранит текущую цепочку рассуждений
5. **engine/engine.py** — выполняет до 4 итераций CoT через Together.ai API
6. **mouth.py** — извлекает FINAL_ANSWER: и показывает пользователю
7. Обмен сохраняется в память, цикл повторяется

## Модель

Используется: `meta-llama/Meta-Llama-3.1-70B-Instruct-Turbo`

## Команды

- `exit`, `quit`, `q`, `выход` — выход из чата

## Особенности

- ✅ Итеративное размышление (до 4 шагов CoT)
- ✅ Краткосрочная память (20 последних обменов)
- ✅ Промпты загружаются из файлов (легко редактировать)
- ✅ Красивые разделители в консоли
- ✅ Все комментарии на русском
- ✅ Готово к расширению (заглушки для eyes и big_memory)
